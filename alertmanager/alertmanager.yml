route:
  group_by: ['alertname']
  group_wait: 5s
  group_interval: 20s
  repeat_interval: 1m
  receiver: 'telegram-api'

receivers:
  - name: 'telegram-api'
    telegram_configs:
    - bot_token: '7496938135:AAHhQsqK9C-qxFzLkR1g4yspm_zJCs0Hi78'
      api_url: 'https://api.telegram.org'
      chat_id: 770491204
      parse_mode: 'Markdown'
      message: >
          {{ range .Alerts }}
            {{ if eq .Status "firing" }}
              ğŸš¨ *Alertmanager 107* ğŸš¨
              --
              ğŸ”º *Alertname:* {{ .Labels.alertname }}
              ğŸ”º *Severity:* {{ .Labels.severity }}
              ğŸ“Œ *Summary:* {{ .Annotations.summary }}
              ğŸŒ *Target Name:* {{ .Labels.name }}
              ğŸ›‘ *Status Code:* {{ .Annotations.description }}
            {{ else if eq .Status "resolved" }}
              âœ… *Alertmanager 107* âœ…
              --
              ğŸ”º *Alertname:* {{ .Labels.alertname }}
              ğŸ”º *Severity:* {{ .Labels.severity }}
              ğŸ“Œ *Summary:* {{ .Annotations.summary }}
              ğŸŒ *Target Name:* {{ .Labels.name }}
              ğŸ›  *Status Code:* {{ .Annotations.description }}
            {{ end }}
          {{ end }}
